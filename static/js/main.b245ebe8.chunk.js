(window["webpackJsonpaugmented-tbc-design-v2"]=window["webpackJsonpaugmented-tbc-design-v2"]||[]).push([[0],{216:function(e,t,a){e.exports=a(408)},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(14),o=a.n(i),c=a(446),l=a(445),s=a(61),u=a.n(s),m=a(114),d=a(4),p=a(409),f=a(451),h=a(444),b=a(441),g=a(448),v=a(442),x=a(443),E=a(450),y=a(12),k=a(3),O=a(447),j=a(75),C=a.n(j),w=a(8),N=a(452),B=Object(w.a)({root:{height:8,color:"#00E046"},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid #004C07",marginTop:-8,marginLeft:-12,"&:focus,&:hover,&$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4,background:"#00E046"},rail:{height:8,borderRadius:4},markLabel:{top:30}})(N.a),F=a(449),P=Object(p.a)(function(e){var t;return{container:{color:"#00A52D",display:"flex",fontSize:"0.9rem",cursor:"pointer",transition:"color ease 150ms","&:hover":{color:"#00E046"}},popoverContainer:{padding:e.spacing(2),"& > p:not(:last-child)":{color:"#00E046",paddingBottom:e.spacing(1),marginBottom:e.spacing(1),borderBottom:"1px solid #006a13"}},paper:(t={backgroundColor:"#006609",maxWidth:.9*e.breakpoints.values.md},Object(y.a)(t,"@media screen and (max-width: ".concat(e.breakpoints.values.md,"px)"),{maxWidth:"90vw"}),Object(y.a)(t,"padding",e.spacing(.5)),t),descriptionBody:{color:"#00A52D"}}});function T(e){var t=e.content,a=e.popoverText,n=P(),i=r.a.useState(null),o=Object(d.a)(i,2),c=o[0],l=o[1];function s(){l(null)}var u=Boolean(c),m=u?"simple-popover":void 0;return r.a.createElement("div",{className:n.container},r.a.createElement("div",{"aria-describedby":m,onClick:function(e){l(e.currentTarget)}},r.a.createElement(b.a,null,t)),r.a.createElement(F.a,{PaperProps:{className:n.paper},id:m,open:u,anchorEl:c,onClose:s,onClick:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(g.a,{className:n.popoverContainer},r.a.createElement(b.a,null,t),r.a.createElement(b.a,{className:n.descriptionBody},a))))}var S=Object(p.a)(function(e){return Object(f.a)({root:{margin:e.spacing(6,0,3)},lightBulb:{verticalAlign:"middle",marginRight:e.spacing(1)},leftContainer:{color:e.palette.text.secondary},centerContainer:{},listBoxContainer:{"& > div:not(:last-child)":{paddingBottom:"12px",marginBottom:"12px",borderBottom:"1px solid #006a13"}},listBox:{"& > div":{display:"flex",alignItems:"center","& p":{marginBottom:0}},"& > div:not(:last-child)":{paddingRight:"12px"}},slider:{color:e.palette.primary.main},inputValue:{color:"#00E046"}})});function R(e){var t=e.inputRef,a=e.onChange,n=e.prefix,i=e.suffix,o=Object(k.a)(e,["inputRef","onChange","prefix","suffix"]);return r.a.createElement(C.a,Object.assign({},o,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:n,suffix:i}))}function A(e){var t=e.inputFields,a=e.onChangeCommited,n=S();return r.a.createElement("div",{className:n.listBoxContainer},t.map(function(e){var t=e.label,i=e.description,o=e.value,c=e.setter,l=e.min,s=e.max,u=e.step,m=e.prefix,d=e.suffix,p=e.format,f=e.toText,h=e.toNum;function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;isNaN(e)&&(e=0),e>s?e=s:e<l&&(e=l),c(e)}return r.a.createElement(x.a,{key:t,container:!0,spacing:0,className:n.listBox},r.a.createElement(x.a,{item:!0,xs:6,className:n.leftContainer},r.a.createElement(T,{content:t,popoverText:i})),r.a.createElement(x.a,{item:!0,xs:2,className:n.centerContainer},r.a.createElement(O.a,{onChange:function(e){b(h?h(e.target.value):parseFloat(e.target.value)),a()},InputProps:{inputComponent:R,disableUnderline:!0,className:n.inputValue,inputProps:{prefix:m,suffix:d}},value:f?f(o):o})),r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(B,{className:n.slider,valueLabelDisplay:"auto","aria-label":t,defaultValue:o,onChange:function(e,t){return b(Number(t))},onChangeCommitted:a,value:o,min:l,max:s,step:u,valueLabelFormat:function(e){return p(e).replace("$","")}})))}))}var D={theta:{name:"Commons Tribute",text:"The percentage of the funds raised during the Hatch that goes directly to Funding Pool to be used to support the Commons' mission, the rest goes to the collateral pool"},p0:{name:"Hatch price",text:"The price paid per token by when hatching the Commons"},p1:{name:"Open price",text:"The price per token at the launch of the Commons when the curve is set and anyone can join with the Commons"},wFee:{name:"Exit Tribute",text:"The percentage that goes to the Funding Pool when token holders 'sell' by burning their token at the price determined by the ABC. If the Exit Tribute is 10% and the price is 1 DAI/token then, for every token burned, the exiting token holder would get 0.9 Dai and the Funding Pool would get 0.1 Dai"},vHalflife:{name:"Lockup Curve",text:"Tokens that are purchased during the Hatch are locked initially and then released slowly such that 50% of the tokens will be able to be sold after the locking period + this many weeks and 87.5% of the tokens after 3x this many weeks + the locking period. In this demo the locking period is 7 weeks"},d0:{name:"Hatch Raise",text:"Amount of funds initially contributed before the launch of the Commons, this variable helps shape the curve"}},I="Visualization of the bonding curve up to 4x the initial size of the Collateral Pool Post-Hatch. This result is deterministic given the parameters set. It will not change regardless of the campaign's performance, it simply shows how the price will react to changes in the Collateral Pool.",M="This chart shows a 52 week simulation of discrete transactions interacting with the Augmented Bonding Curve. Each transaction adds to or subtracts collateral from the system, modifying the price over time. The frequency, size and direction of each transaction is computed from a set of bounded random functions. This is a NOT a cadCAD simulation, but it showcases the intention behind cadCAD.",H={price:{name:"Price",text:"Price of the token over time."},floorPrice:{name:"Lockup Curve",text:"Lower bound of the price guaranteed by the Lockup Curve. It decreases over time as the tokens received by Hatchers are unlocked"},totalRaised:{name:"Total funds raised",text:"Cumulative sum of the funds sent to the Funding Pool"}},V={totalReserve:{name:"Collateral Pool balance",text:"Total Dai in the collateral pool at the end of the simulated period"},slippage:{name:"Median slippage",text:"Median of change in price a user experiences from the current price of one token to the price actually received when minting or burning many tokens"},initialHatchFunds:{name:"Funds generated from Commons Tribute",text:"Funds raised during the Hatch that go directly to the Funding Pool"},exitTributes:{name:"Funds generated from Exit Tributes",text:"Cumulative sum of Exit Tributes collected from tokens that are burned"},totalRaised:{name:"Total funds raised for your community",text:"Sum of funds from the Commons Tribute + funds from Exit Tributes"}};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function W(e){var t=e.curveParams,a=e.setCurveParams,i=Object(n.useState)(t.theta),o=Object(d.a)(i,2),c=o[0],l=o[1],s=Object(n.useState)(t.p0),u=Object(d.a)(s,2),m=u[0],p=u[1],f=Object(n.useState)(t.p1),h=Object(d.a)(f,2),b=h[0],g=h[1],v=Object(n.useState)(t.wFee),x=Object(d.a)(v,2),E=x[0],k=x[1],O=Object(n.useState)(t.vHalflife),j=Object(d.a)(O,2),C=j[0],w=j[1];Object(n.useEffect)(function(){l(t.theta),p(t.p0),g(t.p1),k(t.wFee),w(t.vHalflife)},[t]);var N=10,B=1.5;var F=[{label:D.theta.name,description:D.theta.text,value:c,setter:l,min:0,max:.9,step:.01,suffix:"%",format:function(e){return"".concat(Math.round(100*e),"%")},toText:function(e){return String(+(100*e).toFixed(0))},toNum:function(e){return.01*parseFloat(e)}},{label:"".concat(D.p0.name," (DAI/token)"),description:D.p0.text,value:m,setter:function(e){p(e),b<e*B?g(e*B):b>e*N&&g(e*N)},min:.01,max:1,step:.01,toText:function(e){return String(+e.toFixed(2))},toNum:function(e){return parseFloat(e)},format:function(e){return"$".concat(e)}},{label:"".concat(D.p1.name," (DAI/token)"),description:D.p1.text,value:b,setter:g,min:Number((B*(m||.1)).toFixed(2)),max:Number((N*m).toFixed(2)),step:.01,toText:function(e){return String(+e.toFixed(2))},toNum:function(e){return parseFloat(e)},format:function(e){return"$".concat(e)}},{label:D.wFee.name,description:D.wFee.text,value:E,setter:k,min:0,max:.1,step:.001,suffix:"%",format:function(e){return"".concat(+(100*e).toFixed(1),"%")},toText:function(e){return String(+(100*e).toFixed(1))},toNum:function(e){return.01*parseFloat(e)}},{label:"".concat(D.vHalflife.name," (weeks)"),description:D.vHalflife.text,value:C,setter:w,min:1,max:104,step:1,suffix:"",format:function(e){return String(Math.round(e))},toText:function(e){return String(Math.round(e))},toNum:function(e){return Math.round(parseInt(e))}}];return r.a.createElement(A,{inputFields:F,onChangeCommited:function(){a(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{theta:c,p0:m,p1:b,wFee:E,vHalflife:C})})}})}var z=a(172),K=a.n(z),$=Object(p.a)(function(e){return{container:{display:"flex",marginLeft:"6px",fontSize:"0.9rem",cursor:"pointer",transition:"opacity ease 150ms",opacity:.2,"&:hover":{opacity:.85}},popoverContainer:{background:"#006609",padding:e.spacing(2)},paper:Object(y.a)({backgroundColor:"#384b59",maxWidth:.9*e.breakpoints.values.md},"@media screen and (max-width: ".concat(e.breakpoints.values.md,"px)"),{maxWidth:"90vw"}),descriptionContainer:{"& > div:not(:last-child)":{paddingBottom:e.spacing(1),marginBottom:e.spacing(1),borderBottom:"1px solid #006a13"},"& td":{verticalAlign:"top",padding:e.spacing(.5)}},descriptionTitle:{color:"#00E046",padding:e.spacing(.5)},descriptionBody:{color:"#00E046",padding:e.spacing(.5)},descriptionPadding:{padding:e.spacing(.5)}}});function q(e){var t=e.text,a=e.title,n=e.table,i=e.body,o=$(),c=r.a.useState(null),l=Object(d.a)(c,2),s=l[0],u=l[1];function m(){u(null)}var p=Boolean(s),f=p?"simple-popover":void 0;return r.a.createElement("div",{className:o.container},r.a.createElement(K.a,{onClick:function(e){u(e.currentTarget)}}),r.a.createElement(F.a,{PaperProps:{className:o.paper},id:f,open:p,anchorEl:s,onClose:m,onClick:m,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(g.a,{className:o.popoverContainer},r.a.createElement("div",{className:o.descriptionContainer},a&&r.a.createElement("div",null,r.a.createElement(b.a,{className:o.descriptionTitle},a)),i&&r.a.createElement("div",null,r.a.createElement(b.a,{className:o.descriptionBody},i)),n&&r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,n.map(function(e){var t=e.name,a=e.text;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(b.a,{className:o.descriptionBody},t)),r.a.createElement("td",null,r.a.createElement(b.a,{className:o.descriptionBody},a)))})))),t))))}var G=Object(p.a)(function(e){return Object(f.a)({root:{margin:e.spacing(6,0,3)},lightBulb:{verticalAlign:"middle",marginRight:e.spacing(1)},leftContainer:{},centerContainer:{},listBoxContainer:{"& > div:not(:last-child)":{paddingBottom:"12px",marginBottom:"12px",borderBottom:"1px solid #313d47"}},listBox:{"& > div":{display:"flex",alignItems:"center","& p":{marginBottom:0}},"& > div:not(:last-child)":{paddingRight:"12px"}},slider:{color:e.palette.primary.main},label:{color:"#00E046"}})});function J(e){var t=e.inputRef,a=e.onChange,n=e.prefix,i=e.suffix,o=Object(k.a)(e,["inputRef","onChange","prefix","suffix"]);return r.a.createElement(C.a,Object.assign({},o,{getInputRef:t,onValueChange:function(e){a({target:{value:e.value}})},thousandSeparator:!0,prefix:n,suffix:i}))}function U(e){var t=e.inputFields,a=e.onChangeCommited,n=G();return r.a.createElement("div",{className:n.listBoxContainer},t.map(function(e){var t=e.label,i=e.description,o=e.value,c=e.setter,l=e.min,s=e.max,u=e.step,m=e.prefix,d=e.suffix,p=e.format,f=e.toText,h=e.toNum;function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;isNaN(e)&&(e=0),e>s?e=s:e<l&&(e=l),c(e)}return r.a.createElement(x.a,{key:t,container:!0,spacing:0,className:n.listBox},r.a.createElement(x.a,{item:!0,xs:6,sm:6,md:3,lg:2,className:n.leftContainer},r.a.createElement(b.a,{className:n.label,variant:"h6"},t),r.a.createElement(q,{title:t,body:i})),r.a.createElement(x.a,{item:!0,xs:2,sm:2,md:1,className:n.centerContainer},r.a.createElement(O.a,{onChange:function(e){g(h?h(e.target.value):parseFloat(e.target.value)),a()},InputProps:{inputComponent:J,disableUnderline:!0,className:n.label,inputProps:{prefix:m,suffix:d}},value:f?f(o):o})),r.a.createElement(x.a,{item:!0,xs:4,sm:4,md:8,lg:9},r.a.createElement(B,{className:n.slider,valueLabelDisplay:"auto","aria-label":t,defaultValue:o,onChange:function(e,t){return g(Number(t))},onChangeCommitted:a,value:o,min:l,max:s,step:u,valueLabelFormat:function(e){return p(e).replace("$","")}})))}))}function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function X(e){var t=e.curveParams,a=e.setCurveParams,i=Object(n.useState)(3e6),o=Object(d.a)(i,2),c=o[0],l=o[1];Object(n.useEffect)(function(){l(t.d0)},[t]);var s=[{label:"".concat(D.d0.name),description:D.d0.text,value:c,setter:l,min:1e5,max:1e7,step:1e5,suffix:"M",format:function(e){return"$".concat(+(1e-6*e).toFixed(1),"M")},toText:function(e){return String(+(1e-6*e).toFixed(1))},toNum:function(e){return Math.floor(1e6*parseFloat(e))}}];return r.a.createElement(U,{inputFields:s,onChangeCommited:function(){a(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach(function(t){Object(y.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{d0:c})})}})}var Y=a(15);function Z(e){for(var t=e.from,a=void 0===t?0:t,n=e.to,r=e.steps,i=[],o=a;o<=n;o+=(n-a)/r)i.push(o);return i}function _(e,t){for(var a=[],n=(e[e.length-1]-e[0])/t,r=e[0];r<e[e.length-1];r+=n)a.push(r);return a.length<t+1&&a.push(e[e.length-1]),a}function ee(e){return e[e.length-1]}function te(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)/e.length}function ae(e){return new Promise(function(t){return setTimeout(t,e)})}function ne(e){var t=e>5e8?[1e9,"B"]:e>5e5?[1e6,"M"]:e>500?[1e3,"K"]:[1,""],a=Object(d.a)(t,2);return{scaling:a[0],unit:a[1]}}var re=a(18);function ie(e){var t=e.d0,a=e.theta,n=e.p0,r=e.p1/n/(1-a),i=(1-a)*t,o=t/n;return{k:r,R0:i,S0:o,V0:Math.pow(o,r)/i}}function oe(e){var t=e.S,a=e.V0,n=e.k;return Math.pow(t,n)/a}function ce(e){var t=e.R,a=e.V0,n=e.k;return Math.pow(a*t,1/n)}function le(e){var t=e.S,a=e.H,n=e.V0,r=e.k;if(t===a){var i=se({R:oe({S:t,V0:n,k:r}),V0:n,k:r});return Math.abs(i)}return se({R:oe({S:t-a,V0:n,k:r}),V0:n,k:r})}function se(e){var t=e.R,a=e.V0,n=e.k;return n*Math.pow(t,(n-1)/n)/Math.pow(a,1/n)}function ue(e){var t=e.R,a=e.deltaR,n=e.V0,r=e.k,i=Math.pow(n*t,1/r),o=a/(Math.pow(n*(t+a),1/r)-i),c=se({R:t,V0:n,k:r});return Math.abs(o-c)/c}function me(e){var t=e.R,a=e.k,n=e.priceGrowth;return-t+Math.pow(n*Math.pow(t,1-1/a),a/(-1+a))}function de(e){for(var t=e.sum,a=e.num,n=t/a,r=n*e.spread,i=[],o=0;o<a;o++)i.push(he(n-r,n+r));return i}function pe(e){var t=e.week,a=e.H,n=e.halflife;return t<e.cliff?0:a*(1-Math.pow(.5,1/n))}function fe(e,t){return Math.random()*(t-e)+e}function he(e,t){for(var a=0,n=0;0===a;)a=Math.random();for(;0===n;)n=Math.random();var r=Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*n);return((r=r/10+.5)>1||r<0)&&(r=he(e,t)),r*=t-e,r+=e}function be(e){var t=Math.floor(e.length/2),a=Object(re.a)(e).sort(function(e,t){return e-t});return e.length%2!==0?a[t]:(a[t-1]+a[t])/2}var ge=a(185),ve=!1,xe="x",Ee="Supply (tokens) / Collateral (DAI)",ye="#b7c1cb",ke=Object(p.a)(function(e){return Object(f.a)({tooltip:{border:"1px solid #313d47",backgroundColor:"#384b59",padding:e.spacing(1),color:"#c7ccd2"}})});var Oe=function(e){for(var t=e.theta,a=ie({d0:e.d0,theta:t,p0:e.p0,p1:e.p1}),n=a.k,i=a.R0,o=a.S0,c=a.V0,l=Math.round(i),s=function(e){return o*Math.pow(e/l,1/n)},u=4*l,m=Math.round((u-0)/100),p=ne(Math.max(u,s(u))),f=p.scaling,h=p.unit,b=[],g=0;g<101;g++){var v,x=Math.round(0+m*g);b.push((v={},Object(y.a)(v,xe,x),Object(y.a)(v,Ee,s(x)),v))}var E=Object(ge.a)(),k=ke(),O=function(e){return(+(e/f).toPrecision(2)).toLocaleString()};return r.a.createElement(Y.g,{debounce:1},r.a.createElement(Y.b,{width:0,height:400,data:b,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(Y.c,{vertical:!1,stroke:E.palette.text.secondary,strokeOpacity:.13}),r.a.createElement(Y.i,{interval:24,dataKey:xe,tickFormatter:O,unit:h,tick:{fill:"#00E046"},stroke:"#00E046"}),r.a.createElement(Y.j,{interval:"preserveStartEnd",ticks:_(b.map(function(e){return e[Ee]}),3),tickFormatter:O,unit:h,tick:{fill:"#00E046"},stroke:"#00E046",domain:[0,s(u)]}),r.a.createElement(Y.h,{content:r.a.createElement(function(e){var t=e.active,a=e.payload,i=e.label;if(t){var o=a[0].value,l=i,s=se({R:l,V0:c,k:n}),u=[["Supply",O(o)+h,"tokens"],["Collateral",O(l)+h,"DAI"],["Price",s.toFixed(2),"DAI/token"]];return r.a.createElement("div",{className:k.tooltip},r.a.createElement("table",null,r.a.createElement("tbody",null,u.map(function(e){var t=Object(d.a)(e,3),a=t[0],n=t[1],i=t[2];return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,i))}))))}return null},null)}),r.a.createElement(Y.a,{isAnimationActive:ve,type:"monotone",dataKey:Ee,stroke:E.palette.primary.main,fill:E.palette.primary.main,fillOpacity:.3,strokeWidth:2}),r.a.createElement(Y.f,{x:l,y:s(l),stroke:"transparent",strokeDasharray:"9 0",label:r.a.createElement(function(e){var t=e.textAnchor,a=e.viewBox;return r.a.createElement("text",{x:a.x+a.width/4+10,y:a.y+20,fill:ye,textAnchor:t},"Initial Token Supply")},null)}),r.a.createElement(Y.e,{x:l,y:s(l),r:6,fill:E.palette.primary.main,stroke:2}),r.a.createElement(Y.d,{formatter:function(e){return r.a.createElement("span",{style:{color:"#00A52D"}},e)}})))};a(406);function je(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"}))}var Ce=Object(p.a)(function(e){return Object(f.a)({root:{margin:e.spacing(6,0,3)},lightBulb:{verticalAlign:"middle",marginRight:e.spacing(1)},leftContainer:{color:e.palette.text.secondary},centerContainer:{},listBoxContainer:{"& > div:not(:last-child)":{marginBottom:"12px",borderBottom:"1px solid #006a13"}},listBox:{paddingBottom:"12px","& > div":{display:"flex",alignItems:"center","& p":{marginBottom:0}},"& > div:not(:last-child)":{paddingRight:"12px"}},value:{color:"#00E046"},valueFooter:{color:"#00A52D",fontSize:"80%"}})});function we(e){var t=e.resultFields,a=e.simulationDuration,i=Object(n.useState)(!0),o=Object(d.a)(i,2),c=o[0],l=o[1];Object(n.useEffect)(function(){var e=setTimeout(function(){l(!1)},a);return function(){clearTimeout(e)}});var s=Ce();return r.a.createElement("div",{className:s.listBoxContainer},t.map(function(e){var t=e.label,a=e.description,n=e.value,i=e.valueFooter;return r.a.createElement(x.a,{key:t,container:!0,spacing:0,className:s.listBox},r.a.createElement(x.a,{item:!0,xs:8,className:s.leftContainer},r.a.createElement(T,{content:t,popoverText:a})),r.a.createElement(x.a,{item:!0,xs:4,className:s.centerContainer},c?r.a.createElement(je,null):r.a.createElement("div",null,r.a.createElement(b.a,{className:s.value},n),i&&r.a.createElement(b.a,{className:s.valueFooter},i))))}))}var Ne="x",Be="Price (DAI/token)",Fe="Floor price (DAI/token)",Pe="Total funds raised (DAI)",Te="Post-Hatch price",Se="Hatch price",Re="#53c388",Ae="#b7c1cb",De=Object(p.a)(function(e){return Object(f.a)({tooltip:{border:"1px solid #313d47",backgroundColor:"#384b59",padding:e.spacing(1),color:"#c7ccd2"}})});var Ie=function(e){for(var t=e.priceTimeseries,a=e.totalFundsRaisedTimeseries,i=e.floorpriceTimeseries,o=e.simulationDuration,c=e.p0,l=e.p1,s=[],u=0;u<t.length;u++){var m;s.push((m={},Object(y.a)(m,Ne,u),Object(y.a)(m,Be,t[u]||0),Object(y.a)(m,Fe,i[u]||0),Object(y.a)(m,Pe,a[u]||0),m))}var p=Object(n.useState)(!0),f=Object(d.a)(p,2),h=f[0],b=f[1];Object(n.useEffect)(function(){var e=setTimeout(function(){b(!1)},o+100);return function(){clearTimeout(e)}});var g=a[0],v=a.slice(-1)[0],x=v-g,E=function(e){return(+e.toFixed(2)).toLocaleString()},k=ne(v),O=k.scaling,j=k.unit,C=function(e){return(+(e/O).toPrecision(3)).toLocaleString()},w=Object(ge.a)(),N=De();function B(e){var t=e.textAnchor,a=e.viewBox,n=e.text;e.fill;return r.a.createElement("text",{x:a.x+4,y:a.y+17,fill:Ae,textAnchor:t},n)}return r.a.createElement(Y.g,{debounce:1},r.a.createElement(Y.b,{width:0,height:400,data:s,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(Y.c,{vertical:!1,stroke:w.palette.text.secondary,strokeOpacity:.13}),r.a.createElement(Y.i,{dataKey:Ne,tick:{fill:Re},stroke:w.palette.text.secondary,ticks:[].concat(Object(re.a)(Z({to:t.length,steps:4}).map(Math.floor)),[t.length-1])}),r.a.createElement(Y.j,{yAxisId:"left",domain:[0,Math.max.apply(Math,Object(re.a)(t).concat([1.25*l]))],tickFormatter:E,tick:{fill:Re},stroke:Re}),r.a.createElement(Y.j,{yAxisId:"right",domain:[g.toPrecision(2),+(v+x).toPrecision(2)],orientation:"right",tickFormatter:function(e){return(+e.toPrecision(3)).toLocaleString()},tick:{fill:"#C64EDC"},stroke:"#C64EDC"}),r.a.createElement(Y.h,{content:r.a.createElement(function(e){var t=e.active,a=e.payload,n=e.label;if(t){var i=a[0].value,o=a[1].value,c=a[2].value,l=n,s=[["Price",E(i),"DAI/tk"],["Floor P.",E(o),"DAI/tk"],["Funds R.",C(c)+j,"DAI"],["Week",l,""]];return r.a.createElement("div",{className:N.tooltip},r.a.createElement("table",null,r.a.createElement("tbody",null,s.map(function(e){var t=Object(d.a)(e,3),a=t[0],n=t[1],i=t[2];return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,i))}))))}return null},null)}),r.a.createElement(Y.a,{isAnimationActive:h,animationDuration:o,yAxisId:"left",type:"monotone",dataKey:Be,stroke:w.palette.primary.main,fill:w.palette.primary.main,fillOpacity:.3,strokeWidth:2}),r.a.createElement(Y.a,{isAnimationActive:h,animationDuration:o,yAxisId:"left",type:"monotone",dataKey:Fe,stroke:"#adcd2e",fill:"#adcd2e",fillOpacity:.05,strokeWidth:2}),r.a.createElement(Y.f,{y:c,yAxisId:"left",stroke:w.palette.primary.main,label:r.a.createElement(B,{text:Se})}),r.a.createElement(Y.f,{y:l,yAxisId:"left",stroke:w.palette.primary.main,label:r.a.createElement(B,{text:Te})}),r.a.createElement(Y.a,{isAnimationActive:h,animationDuration:o,yAxisId:"right",type:"monotone",dataKey:Pe,stroke:"#C64EDC",fill:"#C64EDC",fillOpacity:.5,strokeWidth:2}),r.a.createElement(Y.d,{formatter:function(e){return r.a.createElement("span",{style:{color:w.palette.text.secondary}},e)}})))},Me=a(182),He=[1,.8,.8,.9,.9,.8,.6,.5,.8,.9,.9,.97,.97,.97,.8,.97,.97,.97,.75,.97,.97,.97,.75,.97,.97,.97,.75,.97,.97,.97,.75,.97,.97,.97,.75,.97,.97,.97,.75,.97,.97,.97,.97,.97,.97,.75,.97,.97,.97,.97,.97,.97],Ve=[3,1.5,1.01,1.04,1.1,1.15,1.15,1.15,1.1,1.1,1.2,1.15,1.07,1.07,1.3,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.3,1.07,1.07,1.07,1.07,1.07,1.2,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.4,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.07,1.04],Le=(a(407),4e3),We=Object(p.a)(function(e){return Object(f.a)({mainContainer:{"& > div:not(:last-child)":{paddingBottom:e.spacing(3)},"& > div":{"& > div":{paddingTop:"0 !important"}},paddingBottom:e.spacing(9)},simulationContainer:{minHeight:"442px"},paper:{width:"100%",height:"100%",minHeight:310,backgroundColor:"#004C07",borderRadius:"15px"},box:{padding:e.spacing(3,3)},boxButton:{padding:e.spacing(3,3)},boxHeader:{padding:e.spacing(3,3),height:e.spacing(10),display:"flex",alignItems:"center",borderBottom:"1px solid #006a13"},boxHeaderWithoutBoder:{padding:e.spacing(3,3),height:e.spacing(10),display:"flex",alignItems:"center"},boxHeaderTitle:{color:"#00E046"},boxBorderBottom:{borderBottom:"1px solid #006a13"},initialRaise:{justifyContent:"space-between"},boxChart:{width:"100%",height:"100%",minHeight:310,maxHeight:350,padding:e.spacing(3,3),paddingRight:"5px",paddingLeft:"5px"},boxPlaceholder:{padding:e.spacing(3,3),display:"flex",height:"100%",alignItems:"center",justifyContent:"center",color:e.palette.text.secondary,opacity:.4},header:{backgroundColor:"#0b1216",color:"#f8f8f8",textAlign:"center",padding:e.spacing(3,0,16),marginBottom:-e.spacing(10)},button:{background:"#00E046",color:"#003C00",borderRadius:"30px",textTransform:"initial"},descriptionContainer:{"& > div:not(:last-child)":{paddingBottom:e.spacing(1),marginBottom:e.spacing(1),borderBottom:"1px solid #3f5463"},"& td":{verticalAlign:"top",padding:e.spacing(.5)}},descriptionTitle:{padding:e.spacing(.5)},descriptionBody:{color:"#dbdfe4"},descriptionPadding:{padding:e.spacing(.5)},hatchRaiseBox:{backgroundColor:"#004C07",borderRadius:"15px"},d0Container:{"& > div":{padding:"0 12px 0 0 !important",display:"flex",alignItems:"center"}},d0Number:{padding:"0 !important",display:"flex",alignItems:"center"},d0Slidder:{padding:"0 12px 0 0 !important",display:"flex",alignItems:"center"}})});var ze=a(183),Ke=a.n(ze),$e=a(184),qe=Object($e.a)({palette:{type:"dark",primary:{main:"#2ecd79"},secondary:{main:"#116be0",light:"#0f8bff",dark:"#116be0"},error:{main:Ke.a.A400},background:{default:"#fff",paper:"#293640"},text:{primary:"#fff",secondary:"#9aa3ad"}},typography:{h6:{fontWeight:400}}});console.log(qe);var Ge=qe;o.a.render(r.a.createElement(l.a,{theme:Ge},r.a.createElement(c.a,null),r.a.createElement(function(){var e=Object(n.useState)({theta:.35,p0:.1,p1:.3,wFee:.05,vHalflife:17,d0:3e6}),t=Object(d.a)(e,2),a=t[0],i=t[1],o=a.d0,c=a.theta,l=a.p0,s=a.p1,p=a.wFee,f=a.vHalflife,y=Object(n.useMemo)(function(){return Object(Me.throttle)(i,250)},[]),k=ie({d0:o,theta:c,p0:l,p1:s}),O=k.k,j=k.R0,C=k.S0,w=k.V0,N=Object(n.useState)([0]),B=Object(d.a)(N,2),F=B[0],P=B[1],T=Object(n.useState)([0]),S=Object(d.a)(T,2),R=S[0],A=S[1],L=Object(n.useState)([0]),z=Object(d.a)(L,2),K=z[0],$=z[1],G=Object(n.useState)(j),J=Object(d.a)(G,2),U=J[0],Q=J[1],Y=Object(n.useState)(0),Z=Object(d.a)(Y,2),_=Z[0],ne=Z[1],re=Object(n.useState)(0),oe=Object(d.a)(re,2),he=oe[0],ge=oe[1],ve=Object(n.useState)(0),xe=Object(d.a)(ve,2),Ee=xe[0],ye=xe[1],ke=Object(n.useState)(!1),je=Object(d.a)(ke,2),Ce=je[0],Ne=je[1],Be=Object(n.useState)(!1),Fe=Object(d.a)(Be,2),Pe=Fe[0],Te=Fe[1];function Se(){return(Se=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Re(),e.next=3,ae(0);case 3:Ne(!0);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Re(){Ne(!1),ne(0),P([0]),A([0]),ge(0)}Object(n.useEffect)(function(){Ne(!1)},[a]),Object(n.useEffect)(function(){var e=!0;function t(){return(t=Object(m.a)(u.a.mark(function t(){var a,n,r,i,o,c,l,s,m,d,h;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=[j],n=[C],r=[se({R:j,V0:w,k:O})],i=[0],o=[],c=[],l=[C],s=[],m=52,.97,1.04,10,8,Te(!0),d=function(t){for(var u=fe(100,40*t+100),m=ee(a),d=(ee(n),ee(l)),h=0,b=0,g=0,v=0,x=[0],E=1,y=0,k=0;k<20&&v<1.05*E;k++){var j=void 0,C=void 0;j=He[t],C=Ve[t],k>15&&(j=1.02,C+=1.04);var N=fe(j,C),B=me({R:m,k:O,priceGrowth:N});h=m+B;var F=de({sum:B,num:u,spread:10});y=be(F.map(function(e){return ue({R:m,deltaR:e,V0:w,k:O})})),x=F.filter(function(e){return e<0}),g=d-pe({week:t,H:d,halflife:f,cliff:8}),E=le({S:b=ce({R:m,V0:w,k:O}),H:b-g,V0:w,k:O}),v=se({R:h,V0:w,k:O})}var P=be(x),T=-p*x.reduce(function(e,t){return e+t},0);if(a.push(h),n.push(b),l.push(g),r.push(v),o.push(y),c.push(P),i.push(ee(i)+T),s.push(E),ne(function(e){return e+x.length}),!Ce||!e)return"break"},h=0;case 16:if(!(h<m)){t.next=23;break}if("break"!==d(h)){t.next=20;break}return t.abrupt("break",23);case 20:h++,t.next=16;break;case 23:s[s.length]=s[s.length-1],P(r),A(i),$(s),ge(te(o)),ye(te(c.filter(function(e){return!isNaN(e)}))),Q(ee(a)),Te(!1);case 31:case"end":return t.stop()}},t)}))).apply(this,arguments)}return Ce&&function(){t.apply(this,arguments)}(),function(){e=!1}},[Ce]);var Ae=o*c,De=R.map(function(e){return e+Ae}),ze=Math.round(o*c),Ke=Math.round(ee(R)),$e=ze+Ke,qe=function(e){return(+e.toPrecision(3)).toLocaleString()},Ge=[{label:V.totalReserve.name,description:V.totalReserve.text,value:(+U.toPrecision(3)).toLocaleString()+" DAI"},{label:V.slippage.name,description:V.slippage.text,value:+(100*he).toFixed(3)+" %",valueFooter:"Avg tx size ".concat(Math.round(Ee).toLocaleString()," DAI")},{label:V.initialHatchFunds.name,description:V.initialHatchFunds.text,value:qe(ze)+" DAI"},{label:V.exitTributes.name,description:V.exitTributes.text,value:qe(Ke)+" DAI",valueFooter:"From ".concat(_," exit txs")},{label:V.totalRaised.name,description:V.totalRaised.text,value:qe($e)+" DAI"}],Je=We();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{fixed:!0,className:Je.mainContainer},r.a.createElement(x.a,{container:!0,spacing:3},r.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(v.a,{className:Je.paper},r.a.createElement(g.a,{className:Je.boxHeader},r.a.createElement(b.a,{className:Je.boxHeaderTitle,variant:"h6"},"Curve Design"),r.a.createElement(q,{title:"Parameters description",table:[D.theta,D.p0,D.p1,D.wFee,D.vHalflife]})),r.a.createElement(g.a,{className:Je.box},r.a.createElement(W,{curveParams:a,setCurveParams:y})))),r.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6,lg:8},r.a.createElement(v.a,{className:Je.paper},r.a.createElement(g.a,{className:Je.boxHeader},r.a.createElement(b.a,{className:Je.boxHeaderTitle,variant:"h6"},"Preview"),r.a.createElement(q,{body:I})),r.a.createElement(g.a,{className:Je.boxChart},r.a.createElement(Oe,{theta:c,d0:o,p0:l,p1:s}))))),r.a.createElement(x.a,{container:!0,spacing:3},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(v.a,{className:Je.hatchRaiseBox},r.a.createElement(g.a,{className:"".concat(Je.box," ").concat(Je.boxBorderBottom)},r.a.createElement(X,{curveParams:a,setCurveParams:y})),r.a.createElement(g.a,{className:Je.boxHeaderWithoutBoder},r.a.createElement(x.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(E.a,{variant:"contained",className:Je.button,onClick:function(){return Se.apply(this,arguments)},disabled:Pe},r.a.createElement(b.a,{variant:"body1"},"Run simulation"))))))),r.a.createElement(x.a,{container:!0,spacing:3,className:Je.simulationContainer},Ce?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6,lg:8},r.a.createElement(v.a,{className:Je.paper},r.a.createElement(g.a,{className:Je.boxHeader},r.a.createElement(b.a,{className:Je.boxHeaderTitle,variant:"h6"},"Simulation"),r.a.createElement(q,{body:M,table:Object.values(H)})),r.a.createElement(g.a,{className:Je.boxChart},r.a.createElement(Ie,{priceTimeseries:F,floorpriceTimeseries:K,totalFundsRaisedTimeseries:De,simulationDuration:Le,p0:l,p1:s})))),r.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(v.a,{className:Je.paper},r.a.createElement(g.a,{className:Je.boxHeader},r.a.createElement(b.a,{className:Je.boxHeaderTitle,variant:"h6"},"Results"),r.a.createElement(q,{title:"Result parameters description",table:Object.values(V)})),r.a.createElement(g.a,{className:Je.box},r.a.createElement(we,{resultFields:Ge,simulationDuration:Le}))))):r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(v.a,{className:Je.paper},r.a.createElement(g.a,{className:Je.boxPlaceholder},r.a.createElement(b.a,{variant:"h6"},"Run a simulation to see results")))))))},null)),document.querySelector("#root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.b245ebe8.chunk.js.map